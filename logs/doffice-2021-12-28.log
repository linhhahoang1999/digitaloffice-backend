2021-12-28 21:08:30,685 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting DigitalOfficeBackendApplication using Java 16.0.1 on HaLinhPC with PID 10732 (D:\PTIT\DATN\digital-office-backend\target\classes started by linh in D:\PTIT\DATN\digital-office-backend)
2021-12-28 21:08:30,688 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.5.6, Spring v5.3.12
2021-12-28 21:08:30,688 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-12-28 21:08:30,812 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting DigitalOfficeBackendApplication using Java 16.0.1 on HaLinhPC with PID 2128 (D:\PTIT\DATN\digital-office-backend\target\classes started by linh in D:\PTIT\DATN\digital-office-backend)
2021-12-28 21:08:30,816 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.5.6, Spring v5.3.12
2021-12-28 21:08:30,816 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-12-28 21:08:30,855 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-12-28 21:08:30,856 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-12-28 21:08:31,022 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-12-28 21:08:31,023 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-12-28 21:08:32,670 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-28 21:08:32,672 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2021-12-28 21:08:32,694 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 10 ms. Found 0 MongoDB repository interfaces.
2021-12-28 21:08:32,701 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-28 21:08:32,703 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2021-12-28 21:08:32,744 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 33 ms. Found 0 MongoDB repository interfaces.
2021-12-28 21:08:33,287 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-28 21:08:33,291 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-12-28 21:08:33,351 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
2021-12-28 21:08:33,367 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode!
2021-12-28 21:08:33,372 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2021-12-28 21:08:33,447 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 52 ms. Found 0 Redis repository interfaces.
2021-12-28 21:08:34,609 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@459f70ff' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-28 21:08:34,634 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@67f43ca4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-28 21:08:34,647 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-28 21:08:34,648 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-12-28 21:08:36,434 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8091 (http)
2021-12-28 21:08:36,534 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8091"]
2021-12-28 21:08:36,541 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-12-28 21:08:36,542 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-28 21:08:36,952 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8091 (http)
2021-12-28 21:08:37,026 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8091"]
2021-12-28 21:08:37,081 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-12-28 21:08:37,084 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.54]
2021-12-28 21:08:37,123 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-12-28 21:08:37,124 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 6100 ms
2021-12-28 21:08:37,460 INFO com.mongodb.diagnostics.logging.SLF4JLogger [restartedMain] Cluster created with settings {hosts=[178.128.19.31:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2021-12-28 21:08:37,552 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-12-28 21:08:37,552 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 6695 ms
2021-12-28 21:08:37,771 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='61cb1a650d1e0121f3baae55', description='null'}-178.128.19.31:27017] Opened connection [connectionId{localValue:1, serverValue:16977}] to 178.128.19.31:27017
2021-12-28 21:08:37,771 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='61cb1a650d1e0121f3baae55', description='null'}-178.128.19.31:27017] Monitor thread successfully connected to server with description ServerDescription{address=178.128.19.31:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68710700, setName='reps0', canonicalAddress=127.0.0.1:27017, hosts=[127.0.0.1:27017], passives=[], arbiters=[], primary='127.0.0.1:27017', tagSet=TagSet{[]}, electionId=7fffffff000000000000000e, setVersion=1, topologyVersion=TopologyVersion{processId=61824065b32f7a93cc0ee417, counter=6}, lastWriteDate=Tue Dec 28 21:08:35 ICT 2021, lastUpdateTimeNanos=9353574895400}
2021-12-28 21:08:37,770 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-rtt-ClusterId{value='61cb1a650d1e0121f3baae55', description='null'}-178.128.19.31:27017] Opened connection [connectionId{localValue:2, serverValue:16976}] to 178.128.19.31:27017
2021-12-28 21:08:38,080 INFO com.mongodb.diagnostics.logging.SLF4JLogger [restartedMain] Cluster created with settings {hosts=[178.128.19.31:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}
2021-12-28 21:08:38,360 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='61cb1a66f22ca90fe71f6080', description='null'}-178.128.19.31:27017] Opened connection [connectionId{localValue:1, serverValue:16978}] to 178.128.19.31:27017
2021-12-28 21:08:38,361 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-ClusterId{value='61cb1a66f22ca90fe71f6080', description='null'}-178.128.19.31:27017] Monitor thread successfully connected to server with description ServerDescription{address=178.128.19.31:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=9, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63829500, setName='reps0', canonicalAddress=127.0.0.1:27017, hosts=[127.0.0.1:27017], passives=[], arbiters=[], primary='127.0.0.1:27017', tagSet=TagSet{[]}, electionId=7fffffff000000000000000e, setVersion=1, topologyVersion=TopologyVersion{processId=61824065b32f7a93cc0ee417, counter=6}, lastWriteDate=Tue Dec 28 21:08:35 ICT 2021, lastUpdateTimeNanos=9354165118900}
2021-12-28 21:08:38,373 INFO com.mongodb.diagnostics.logging.SLF4JLogger [cluster-rtt-ClusterId{value='61cb1a66f22ca90fe71f6080', description='null'}-178.128.19.31:27017] Opened connection [connectionId{localValue:2, serverValue:16979}] to 178.128.19.31:27017
2021-12-28 21:08:39,213 DEBUG org.springframework.web.filter.GenericFilterBean [restartedMain] Filter 'jwtTokenFilter' configured for use
2021-12-28 21:08:40,315 DEBUG org.springframework.web.filter.GenericFilterBean [restartedMain] Filter 'jwtTokenFilter' configured for use
2021-12-28 21:08:43,223 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f2626e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@24dee5bf, org.springframework.security.web.header.HeaderWriterFilter@76344af7, org.springframework.web.filter.CorsFilter@31a4dacf, org.springframework.security.web.csrf.CsrfFilter@7fce6de4, org.springframework.security.web.authentication.logout.LogoutFilter@1b77c1af, com.datn.doffice.config.security.JwtTokenFilter@3729c517, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@994aefd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60fff9de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b78a7a2, org.springframework.security.web.session.SessionManagementFilter@267c1650, org.springframework.security.web.access.ExceptionTranslationFilter@154ce2ab]
2021-12-28 21:08:43,681 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e3b97b2, org.springframework.security.web.context.SecurityContextPersistenceFilter@301eba0d, org.springframework.security.web.header.HeaderWriterFilter@42fa13dd, org.springframework.web.filter.CorsFilter@1285f7d8, org.springframework.security.web.csrf.CsrfFilter@5e13cb1, org.springframework.security.web.authentication.logout.LogoutFilter@baadb08, com.datn.doffice.config.security.JwtTokenFilter@1ffa8236, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e1a6745, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ba15c0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10c3790b, org.springframework.security.web.session.SessionManagementFilter@3fcc4b2c, org.springframework.security.web.access.ExceptionTranslationFilter@a6cac33]
2021-12-28 21:08:45,198 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-12-28 21:08:45,273 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8091"]
2021-12-28 21:08:45,462 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8091 (http) with context path ''
2021-12-28 21:08:45,494 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started DigitalOfficeBackendApplication in 15.884 seconds (JVM running for 19.298)
2021-12-28 21:08:45,941 WARN org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] Unable to start LiveReload server
2021-12-28 21:08:45,984 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8091"]
2021-12-28 21:08:45,991 WARN org.springframework.context.support.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8091 is already in use
2021-12-28 21:08:46,124 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Pausing ProtocolHandler ["http-nio-8091"]
2021-12-28 21:08:46,125 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2021-12-28 21:08:46,165 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The web application [ROOT] appears to have started a thread named [cluster-ClusterId{value='61cb1a66f22ca90fe71f6080', description='null'}-178.128.19.31:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@16.0.1/sun.nio.ch.Net.poll(Native Method)
 java.base@16.0.1/sun.nio.ch.NioSocketImpl.park(NioSocketImpl.java:181)
 java.base@16.0.1/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:285)
 java.base@16.0.1/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)
 java.base@16.0.1/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)
 java.base@16.0.1/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)
 java.base@16.0.1/java.net.Socket$SocketInputStream.read(Socket.java:976)
 app//com.mongodb.internal.connection.SocketStream.read(SocketStream.java:109)
 app//com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131)
 app//com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:647)
 app//com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:512)
 app//com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:355)
 app//com.mongodb.internal.connection.InternalStreamConnection.receive(InternalStreamConnection.java:315)
 app//com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:215)
 app//com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144)
 java.base@16.0.1/java.lang.Thread.run(Thread.java:831)
2021-12-28 21:08:46,166 WARN org.apache.juli.logging.DirectJDKLog [restartedMain] The web application [ROOT] appears to have started a thread named [cluster-rtt-ClusterId{value='61cb1a66f22ca90fe71f6080', description='null'}-178.128.19.31:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@16.0.1/java.lang.Thread.sleep(Native Method)
 app//com.mongodb.internal.connection.DefaultServerMonitor.waitForNext(DefaultServerMonitor.java:435)
 app//com.mongodb.internal.connection.DefaultServerMonitor.access$1300(DefaultServerMonitor.java:57)
 app//com.mongodb.internal.connection.DefaultServerMonitor$RoundTripTimeRunnable.run(DefaultServerMonitor.java:409)
 java.base@16.0.1/java.lang.Thread.run(Thread.java:831)
2021-12-28 21:08:46,168 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Stopping ProtocolHandler ["http-nio-8091"]
2021-12-28 21:08:46,169 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Destroying ProtocolHandler ["http-nio-8091"]
2021-12-28 21:08:46,184 INFO org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener [restartedMain] 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2021-12-28 21:08:46,208 ERROR org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter [restartedMain] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8091 was already in use.

Action:

Identify and stop the process that's listening on port 8091 or configure this application to listen on another port.

2021-12-28 21:09:29,386 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8091-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-12-28 21:09:29,386 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8091-exec-1] Initializing Servlet 'dispatcherServlet'
2021-12-28 21:09:29,388 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8091-exec-1] Completed initialization in 2 ms
2021-12-28 21:09:30,213 INFO com.mongodb.diagnostics.logging.SLF4JLogger [http-nio-8091-exec-1] Opened connection [connectionId{localValue:3, serverValue:16980}] to 178.128.19.31:27017
2021-12-28 21:33:18,266 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(31)-127.0.0.1] Application shutdown requested.
